{"version":3,"file":"commonHelpers.js","sources":["../src/img/icon-error.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__eb775c6f__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconError from './img/icon-error.svg';\n\nconst refs = {\n  form: document.querySelector('.task-form'),\n  input: document.querySelector('.form-input'),\n  list: document.querySelector('.gallery'),\n};\n\nlet querySearch = null;\n\nrefs.form.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  console.log(`input before: `, querySearch);\n  if (!refs.input.value) {\n    iziToast.error({\n      ...iziOptions,\n      message: `Please enter your search query, the field cannot be blank!`,\n      backgroundColor: 'rgb(239, 64, 64)',\n      iconUrl: iconError,\n    });\n    return;\n  }\n  querySearch = refs.input.value;\n  console.log(`input after: `, querySearch);\n  getSearch();\n  refs.form.reset();\n}\n\nfunction getSearch() {\n  const ApiKey = '43688767-8e78f2c96043da1155d4d6687';\n  const searchParams = new URLSearchParams({\n    key: ApiKey,\n    q: querySearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  console.log(`searchParams: ${searchParams.toString()}`);\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          ...iziOptions,\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          backgroundColor: 'rgb(239, 64, 64)',\n          iconUrl: iconError,\n        });\n        return;\n      }\n      refs.list.innerHTML = createMarkup(data.hits);\n    })\n    .catch(error => console.log('catch', error));\n}\n\nconst iziOptions = {\n  id: 'myIziToast',\n  title: 'Error',\n  titleColor: 'rgb(255, 255, 255)',\n  titleSize: '16',\n  messageColor: 'rgb(255, 255, 255)',\n  messageSize: '16',\n  position: 'topRight',\n};\n"],"names":["iconError","refs","querySearch","onSubmit","event","iziToast","iziOptions","getSearch","ApiKey","searchParams","response","data","error"],"mappings":"svBAAA,MAAeA,EAAA,gDCITC,EAAO,CACX,KAAM,SAAS,cAAc,YAAY,EACzC,MAAO,SAAS,cAAc,aAAa,EAC3C,KAAM,SAAS,cAAc,UAAU,CACzC,EAEA,IAAIC,EAAc,KAElBD,EAAK,KAAK,iBAAiB,SAAUE,CAAQ,EAE7C,SAASA,EAASC,EAAO,CAGvB,GAFAA,EAAM,eAAc,EACpB,QAAQ,IAAI,iBAAkBF,CAAW,EACrC,CAACD,EAAK,MAAM,MAAO,CACrBI,EAAS,MAAM,CACb,GAAGC,EACH,QAAS,6DACT,gBAAiB,mBACjB,QAASN,CACf,CAAK,EACD,MACD,CACDE,EAAcD,EAAK,MAAM,MACzB,QAAQ,IAAI,gBAAiBC,CAAW,EACxCK,IACAN,EAAK,KAAK,OACZ,CAEA,SAASM,GAAY,CACnB,MAAMC,EAAS,qCACTC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGN,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,eAAQ,IAAI,iBAAiBO,EAAa,SAAQ,CAAE,EAAE,EAC/C,MAAM,4BAA4BA,CAAY,EAAE,EACpD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBN,EAAS,MAAM,CACb,GAAGC,EACH,QAAS,2EACT,gBAAiB,mBACjB,QAASN,CACnB,CAAS,EACD,MACD,CACDC,EAAK,KAAK,UAAY,aAAaU,EAAK,IAAI,CAClD,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAI,QAASA,CAAK,CAAC,CAC/C,CAEA,MAAMN,EAAa,CACjB,GAAI,aACJ,MAAO,QACP,WAAY,qBACZ,UAAW,KACX,aAAc,qBACd,YAAa,KACb,SAAU,UACZ"}